{% extends 'base.html' %}

{% block content %}

        <!-- Compose -->
        <div class="container compose-container">
            
            <h1>Compose Email</h1>
            {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        {% for category, message in messages %}
            <div class="alert alert-{{ category }}" role="alert">
                {{ message }}
            </div>
        {% endfor %}
    {% endif %}
{% endwith %} 
            <form>
                <div class="form-group">
                    <label for="recipient">To:</label>
                    <input type="email" name="recipient" class="form-control" id="recipient" required>
                </div>
                <div class="form-group">
                    <label for="subject">Subject:</label>
                    <input type="text" name="subject" class="form-control" id="subject" required>
                </div>
                <div class="form-group">
                    <label for="message">Message:</label>
                    <div class="compose-toolbar">
                        <button type="button" class="btn btn-light" onclick="formatText('bold')"><i class="fas fa-bold"></i></button>
                        <button type="button" class="btn btn-light" onclick="formatText('italic')"><i class="fas fa-italic"></i></button>
                        <button type="button" class="btn btn-light" onclick="formatText('underline')"><i class="fas fa-underline"></i></button>
                        <button type="button" class="btn btn-light" onclick="formatText('justifyLeft')"><i class="fas fa-align-left"></i></button>
                        <button type="button" class="btn btn-light" onclick="formatText('justifyCenter')"><i class="fas fa-align-center"></i></button>
                        <button type="button" class="btn btn-light" onclick="formatText('justifyRight')"><i class="fas fa-align-right"></i></button>
                        <button type="button" class="btn btn-light" onclick="formatText('insertUnorderedList')"><i class="fas fa-list-ul"></i></button>
                        <button type="button" class="btn btn-light" onclick="formatText('insertOrderedList')"><i class="fas fa-list-ol"></i></button>
                    </div>
                    <div class="compose-textarea-toolbar">
                        <input type="file" name="attachments" id="attachments" multiple>
                        <label for="attachments"><i class="fas fa-paperclip"></i> Attach File</label>
                        <div id="file-list"></div>
                    </div>
                    <div class="compose-textarea">
                        <div class="compose-textarea-content" id="message" contenteditable="true"></div>
                    </div>
                </div>
                <input id="submit" type="submit" class="btn btn-primary" value="Send"/>
                <div class="loading-spinner" style="display: none;">
                    <div class="spinner-border text-primary" role="status">
                        <span class="sr-only">Loading...</span>
                    </div>
                </div>
            </form>
        </div>
        <script src="{{ url_for('static', filename='js/compose.js') }}"></script>
        {% endblock %}
